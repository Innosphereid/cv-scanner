sequenceDiagram
    autonumber
    participant U as "User (Browser)"
    participant A as "API (Auth Controller/Service)"
    participant D as "DB (Users, VerifTokens)"

    U->>A: GET /api/v1/auth/verify-email?token=...
    A->>D: Find token, validate not expired and unused
    alt Invalid/expired/used
      A-->>U: 400 Bad Request (Invalid or expired verification link)
    else Valid
      A->>D: Mark user.verified=true
      A->>D: Invalidate token (used=true)
      A-->>U: 200 OK (Email verified)
    end


